% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Results_generator.R
\name{plot_pdelta_bars_mcmc_highlights}
\alias{plot_pdelta_bars_mcmc_highlights}
\title{Plot Posterior Inclusion Probabilities with Highlighted Predictors}
\usage{
plot_pdelta_bars_mcmc_highlights(
  predictors,
  pdelta_mat = NULL,
  outcome_name = NULL,
  pdelta_list = NULL,
  outcomes = NULL,
  outcome_labels = NULL,
  predictor_labels = NULL,
  group_map = NULL,
  group_levels = NULL,
  use_groups = TRUE,
  x_order = c("group", "given"),
  thresholds = 0.75,
  threshold_colors = NULL,
  colors = NULL,
  legend_title = "Outcome",
  show_legend = NULL,
  bar_width = 0.75,
  dodge_width = 0.8,
  base_size = 22,
  bracket_text_size = 4.5,
  verbose = TRUE,
  highlight_idx = integer(0),
  highlight_fill = "#F8766D",
  nonhighlight_alpha = 0.35,
  keep_outcome_palette = FALSE
)
}
\arguments{
\item{predictors}{Character vector of predictor names (must align with columns of \code{pdelta_mat} or each element of \code{pdelta_list}).}

\item{pdelta_mat}{Numeric matrix (iterations x predictors) of posterior inclusion probabilities for a single outcome.}

\item{outcome_name}{Character scalar giving the outcome label for \code{pdelta_mat}.}

\item{pdelta_list}{Named list of matrices (iterations x predictors), one per outcome.}

\item{outcomes}{Optional character vector of outcomes to subset from \code{pdelta_list}.}

\item{outcome_labels}{Named character vector mapping outcome names to pretty labels.}

\item{predictor_labels}{Named character vector mapping predictor names to pretty labels.}

\item{group_map}{Named vector mapping each predictor to a group label.}

\item{group_levels}{Character vector giving the order of group labels for plotting.}

\item{use_groups}{Logical; if \code{TRUE}, group bands and labels are drawn under the x-axis.}

\item{x_order}{Either \code{"group"} (order predictors by group) or \code{"given"} (use input order).}

\item{thresholds}{Numeric vector of horizontal reference lines to add to the plot.}

\item{threshold_colors}{Colors to use for each threshold line.}

\item{colors}{Optional named vector of fill colors for outcomes (used if \code{keep_outcome_palette = TRUE}).}

\item{legend_title}{Title for the legend.}

\item{show_legend}{Logical; whether to show the legend. Defaults to \code{TRUE} if more than one outcome.}

\item{bar_width}{Width of the bars (passed to \code{geom_col()}).}

\item{dodge_width}{Width of dodge spacing for multiple outcomes.}

\item{base_size}{Base font size for \code{theme_minimal()}.}

\item{bracket_text_size}{Font size for group bracket labels.}

\item{verbose}{Logical; print messages if coercing x order.}

\item{highlight_idx}{Indices (1-based, matching x-axis order) or predictor names to highlight.}

\item{highlight_fill}{Fill color for highlighted predictors (two-color mode).}

\item{nonhighlight_alpha}{Numeric. Alpha (transparency) for non-highlighted bars.}

\item{keep_outcome_palette}{Logical; if \code{TRUE}, keep outcome-based fill colors and outline highlighted bars. If \code{FALSE}, use two-color fill (highlight vs. other).}
}
\value{
A list with two elements:
\describe{
\item{plot}{A \code{ggplot2} object.}
\item{data}{The tidy data frame used to create the plot.}
}
}
\description{
Creates a bar plot of posterior inclusion probabilities (PIPs, a.k.a. \eqn{p\Delta})
for a set of predictors across one or more outcomes. The function supports
both a single outcome matrix (\code{pdelta_mat}) and a list of outcome matrices
(\code{pdelta_list}). Predictors can be grouped into blocks, with optional
bracket annotations under the x-axis. Specific predictors (e.g. truly
non-nulls in a simulation) can be highlighted either by index or by name.
}
\examples{
\dontrun{
# Example with one outcome
predictors <- paste0("X", 1:10)
mat <- matrix(runif(1000), nrow = 100, ncol = 10)
res <- plot_pdelta_bars_mcmc_highlights(
  predictors    = predictors,
  pdelta_mat    = mat,
  outcome_name  = "Simulation",
  highlight_idx = c(2, 5, 7)
)
print(res$plot)
}

}
